<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="4260" viewBox="0 0 1100 4260">
<style>
    .fuselage { fill:#f5f7f8; stroke:#c0c4c7; stroke-width:4; }
    .seat { fill:#4a4f54; stroke:#222; stroke-width:2; rx:22; ry:22; } /* empty */
    .seat.repeated { fill:#ff6600; } /* repeated customer (orange) */
    .seat.occupied { fill:#3399ff !important; } /* occupied (blue) */
    .seat:hover { stroke:#ff6600; stroke-width:4; cursor:pointer; }
    .seat-label { font-size:22px; fill:white; text-anchor:middle; dominant-baseline:middle; pointer-events:none; }
    .row-label { font-size:30px; fill:#000; }
    .wing { fill:#d0dde6; stroke:#8a99a6; stroke-width:3; opacity:0.9; }
    .door { fill:#ffffff; stroke:#ff0000; stroke-width:3; rx:10; ry:10; }
    .exit-marker { fill:#ff0000; font-size:20px; font-weight:bold; }
    .zone-label { font-size:22px; fill:#555; font-style:italic; }
    .tooltip-box { fill:#ffffff; stroke:#000000; stroke-width:1.5; rx:8; ry:8; }
    .tooltip-text { fill:#000000; font-size:16px; font-family:Arial, sans-serif; }
    .legend-bg { fill:#ffffff; stroke:#999999; stroke-width:2; rx:10; ry:10; }
    .legend-text { fill:#222222; font-size:18px; }
</style>
<rect x="120" y="140" width="860" height="4040" rx="180" ry="180" class="fuselage"/><path d="M 120 2160.0 Q -20 2160.0 120 140 Z" fill="#f5f7f8" stroke="#c0c4c7" stroke-width="4"/><path d="M 120 2160.0 Q -20 2160.0 120 4180 Z" fill="#f5f7f8" stroke="#c0c4c7" stroke-width="4"/><path d="M 980 140 Q 1060 2160.0 980 4180 Z" fill="#f5f7f8" stroke="#c0c4c7" stroke-width="4"/><polygon class="wing" points="120 1445  -140 1565  -140 2175  120 2295"/><polygon class="wing" points="980 1445  1240 1565  1240 2175  980 2295"/><rect x="110" y="220" width="40" height="90" class="door"/><text x="130" y="212" class="exit-marker">1L</text><rect x="950" y="220" width="40" height="90" class="door"/><text x="970" y="212" text-anchor="end" class="exit-marker">1R</text><rect x="125" y="1465" width="32" height="70" class="door"/><rect x="125" y="1610" width="32" height="70" class="door"/><text x="140" y="1459" class="exit-marker">OW</text><rect x="943" y="1465" width="32" height="70" class="door"/><rect x="943" y="1610" width="32" height="70" class="door"/><text x="960" y="1459" text-anchor="end" class="exit-marker">OW</text><rect x="110" y="3480" width="40" height="90" class="door"/><text x="130" y="3472" class="exit-marker">2L</text><rect x="950" y="3480" width="40" height="90" class="door"/><text x="970" y="3472" text-anchor="end" class="exit-marker">2R</text><text x="550.0" y="520.0" text-anchor="middle" class="zone-label">FRONT / EXTRA LEGROOM</text><text x="550.0" y="1745.0" text-anchor="middle" class="zone-label">OVERWING / MID CABIN</text><text x="550.0" y="3270.0" text-anchor="middle" class="zone-label">AFT CABIN</text>
<g id="legend">
  <rect x="810" y="20" width="280" height="150" class="legend-bg"/>
  <text x="825" y="45" class="legend-text" font-weight="bold">Legend</text>

  <rect x="825" y="65" width="24" height="24" class="seat repeated"/>
  <text x="860" y="83" class="legend-text">Repeated Customer</text>

  <rect x="825" y="95" width="24" height="24" class="seat"/>
  <text x="860" y="113" class="legend-text">Empty</text>

  <rect x="825" y="125" width="24" height="24" class="seat occupied"/>
  <text x="860" y="143" class="legend-text">Occupied</text>
</g>
<text x="80" y="305.0" class="row-label" text-anchor="end">1</text><g id="1A" onclick="handleSeatClick(evt, '1A')"><rect x="180" y="260" width="90" height="90" class="seat occupied"/><text x="225.0" y="305.0" class="seat-label">A</text></g><g id="1B" onclick="handleSeatClick(evt, '1B')"><rect x="270" y="260" width="90" height="90" class="seat occupied"/><text x="315.0" y="305.0" class="seat-label">B</text></g><g id="1C" onclick="handleSeatClick(evt, '1C')"><rect x="360" y="260" width="90" height="90" class="seat occupied"/><text x="405.0" y="305.0" class="seat-label">C</text></g><g id="1D" onclick="handleSeatClick(evt, '1D')"><rect x="650" y="260" width="90" height="90" class="seat occupied"/><text x="695.0" y="305.0" class="seat-label">D</text></g><g id="1E" onclick="handleSeatClick(evt, '1E')"><rect x="740" y="260" width="90" height="90" class="seat occupied"/><text x="785.0" y="305.0" class="seat-label">E</text></g><g id="1F" onclick="handleSeatClick(evt, '1F')"><rect x="830" y="260" width="90" height="90" class="seat"/><text x="875.0" y="305.0" class="seat-label">F</text></g><text x="80" y="435.0" class="row-label" text-anchor="end">2</text><g id="2A" onclick="handleSeatClick(evt, '2A')"><rect x="180" y="390" width="90" height="90" class="seat occupied"/><text x="225.0" y="435.0" class="seat-label">A</text></g><g id="2B" onclick="handleSeatClick(evt, '2B')"><rect x="270" y="390" width="90" height="90" class="seat occupied"/><text x="315.0" y="435.0" class="seat-label">B</text></g><g id="2C" onclick="handleSeatClick(evt, '2C')"><rect x="360" y="390" width="90" height="90" class="seat occupied"/><text x="405.0" y="435.0" class="seat-label">C</text></g><g id="2D" onclick="handleSeatClick(evt, '2D')"><rect x="650" y="390" width="90" height="90" class="seat occupied"/><text x="695.0" y="435.0" class="seat-label">D</text></g><g id="2E" onclick="handleSeatClick(evt, '2E')"><rect x="740" y="390" width="90" height="90" class="seat occupied"/><text x="785.0" y="435.0" class="seat-label">E</text></g><g id="2F" onclick="handleSeatClick(evt, '2F')"><rect x="830" y="390" width="90" height="90" class="seat"/><text x="875.0" y="435.0" class="seat-label">F</text></g><text x="80" y="565.0" class="row-label" text-anchor="end">3</text><g id="3A" onclick="handleSeatClick(evt, '3A')"><rect x="180" y="520" width="90" height="90" class="seat occupied"/><text x="225.0" y="565.0" class="seat-label">A</text></g><g id="3B" onclick="handleSeatClick(evt, '3B')"><rect x="270" y="520" width="90" height="90" class="seat occupied"/><text x="315.0" y="565.0" class="seat-label">B</text></g><g id="3C" onclick="handleSeatClick(evt, '3C')"><rect x="360" y="520" width="90" height="90" class="seat repeated"/><text x="405.0" y="565.0" class="seat-label">C</text></g><g id="3D" onclick="handleSeatClick(evt, '3D')"><rect x="650" y="520" width="90" height="90" class="seat repeated"/><text x="695.0" y="565.0" class="seat-label">D</text></g><g id="3E" onclick="handleSeatClick(evt, '3E')"><rect x="740" y="520" width="90" height="90" class="seat occupied"/><text x="785.0" y="565.0" class="seat-label">E</text></g><g id="3F" onclick="handleSeatClick(evt, '3F')"><rect x="830" y="520" width="90" height="90" class="seat occupied"/><text x="875.0" y="565.0" class="seat-label">F</text></g><text x="80" y="695.0" class="row-label" text-anchor="end">4</text><g id="4A" onclick="handleSeatClick(evt, '4A')"><rect x="180" y="650" width="90" height="90" class="seat occupied"/><text x="225.0" y="695.0" class="seat-label">A</text></g><g id="4B" onclick="handleSeatClick(evt, '4B')"><rect x="270" y="650" width="90" height="90" class="seat occupied"/><text x="315.0" y="695.0" class="seat-label">B</text></g><g id="4C" onclick="handleSeatClick(evt, '4C')"><rect x="360" y="650" width="90" height="90" class="seat occupied"/><text x="405.0" y="695.0" class="seat-label">C</text></g><g id="4D" onclick="handleSeatClick(evt, '4D')"><rect x="650" y="650" width="90" height="90" class="seat occupied"/><text x="695.0" y="695.0" class="seat-label">D</text></g><g id="4E" onclick="handleSeatClick(evt, '4E')"><rect x="740" y="650" width="90" height="90" class="seat occupied"/><text x="785.0" y="695.0" class="seat-label">E</text></g><g id="4F" onclick="handleSeatClick(evt, '4F')"><rect x="830" y="650" width="90" height="90" class="seat occupied"/><text x="875.0" y="695.0" class="seat-label">F</text></g><text x="80" y="825.0" class="row-label" text-anchor="end">5</text><g id="5A" onclick="handleSeatClick(evt, '5A')"><rect x="180" y="780" width="90" height="90" class="seat occupied"/><text x="225.0" y="825.0" class="seat-label">A</text></g><g id="5B" onclick="handleSeatClick(evt, '5B')"><rect x="270" y="780" width="90" height="90" class="seat occupied"/><text x="315.0" y="825.0" class="seat-label">B</text></g><g id="5C" onclick="handleSeatClick(evt, '5C')"><rect x="360" y="780" width="90" height="90" class="seat occupied"/><text x="405.0" y="825.0" class="seat-label">C</text></g><g id="5D" onclick="handleSeatClick(evt, '5D')"><rect x="650" y="780" width="90" height="90" class="seat repeated"/><text x="695.0" y="825.0" class="seat-label">D</text></g><g id="5E" onclick="handleSeatClick(evt, '5E')"><rect x="740" y="780" width="90" height="90" class="seat occupied"/><text x="785.0" y="825.0" class="seat-label">E</text></g><g id="5F" onclick="handleSeatClick(evt, '5F')"><rect x="830" y="780" width="90" height="90" class="seat occupied"/><text x="875.0" y="825.0" class="seat-label">F</text></g><text x="80" y="955.0" class="row-label" text-anchor="end">6</text><g id="6A" onclick="handleSeatClick(evt, '6A')"><rect x="180" y="910" width="90" height="90" class="seat occupied"/><text x="225.0" y="955.0" class="seat-label">A</text></g><g id="6B" onclick="handleSeatClick(evt, '6B')"><rect x="270" y="910" width="90" height="90" class="seat repeated"/><text x="315.0" y="955.0" class="seat-label">B</text></g><g id="6C" onclick="handleSeatClick(evt, '6C')"><rect x="360" y="910" width="90" height="90" class="seat"/><text x="405.0" y="955.0" class="seat-label">C</text></g><g id="6D" onclick="handleSeatClick(evt, '6D')"><rect x="650" y="910" width="90" height="90" class="seat occupied"/><text x="695.0" y="955.0" class="seat-label">D</text></g><g id="6E" onclick="handleSeatClick(evt, '6E')"><rect x="740" y="910" width="90" height="90" class="seat repeated"/><text x="785.0" y="955.0" class="seat-label">E</text></g><g id="6F" onclick="handleSeatClick(evt, '6F')"><rect x="830" y="910" width="90" height="90" class="seat occupied"/><text x="875.0" y="955.0" class="seat-label">F</text></g><text x="80" y="1070.0" class="row-label" text-anchor="end">7</text><g id="7A" onclick="handleSeatClick(evt, '7A')"><rect x="180" y="1025" width="90" height="90" class="seat repeated"/><text x="225.0" y="1070.0" class="seat-label">A</text></g><g id="7B" onclick="handleSeatClick(evt, '7B')"><rect x="270" y="1025" width="90" height="90" class="seat occupied"/><text x="315.0" y="1070.0" class="seat-label">B</text></g><g id="7C" onclick="handleSeatClick(evt, '7C')"><rect x="360" y="1025" width="90" height="90" class="seat repeated"/><text x="405.0" y="1070.0" class="seat-label">C</text></g><g id="7D" onclick="handleSeatClick(evt, '7D')"><rect x="650" y="1025" width="90" height="90" class="seat repeated"/><text x="695.0" y="1070.0" class="seat-label">D</text></g><g id="7E" onclick="handleSeatClick(evt, '7E')"><rect x="740" y="1025" width="90" height="90" class="seat repeated"/><text x="785.0" y="1070.0" class="seat-label">E</text></g><g id="7F" onclick="handleSeatClick(evt, '7F')"><rect x="830" y="1025" width="90" height="90" class="seat repeated"/><text x="875.0" y="1070.0" class="seat-label">F</text></g><text x="80" y="1185.0" class="row-label" text-anchor="end">8</text><g id="8A" onclick="handleSeatClick(evt, '8A')"><rect x="180" y="1140" width="90" height="90" class="seat occupied"/><text x="225.0" y="1185.0" class="seat-label">A</text></g><g id="8B" onclick="handleSeatClick(evt, '8B')"><rect x="270" y="1140" width="90" height="90" class="seat occupied"/><text x="315.0" y="1185.0" class="seat-label">B</text></g><g id="8C" onclick="handleSeatClick(evt, '8C')"><rect x="360" y="1140" width="90" height="90" class="seat repeated"/><text x="405.0" y="1185.0" class="seat-label">C</text></g><g id="8D" onclick="handleSeatClick(evt, '8D')"><rect x="650" y="1140" width="90" height="90" class="seat repeated"/><text x="695.0" y="1185.0" class="seat-label">D</text></g><g id="8E" onclick="handleSeatClick(evt, '8E')"><rect x="740" y="1140" width="90" height="90" class="seat occupied"/><text x="785.0" y="1185.0" class="seat-label">E</text></g><g id="8F" onclick="handleSeatClick(evt, '8F')"><rect x="830" y="1140" width="90" height="90" class="seat occupied"/><text x="875.0" y="1185.0" class="seat-label">F</text></g><text x="80" y="1300.0" class="row-label" text-anchor="end">9</text><g id="9A" onclick="handleSeatClick(evt, '9A')"><rect x="180" y="1255" width="90" height="90" class="seat"/><text x="225.0" y="1300.0" class="seat-label">A</text></g><g id="9B" onclick="handleSeatClick(evt, '9B')"><rect x="270" y="1255" width="90" height="90" class="seat occupied"/><text x="315.0" y="1300.0" class="seat-label">B</text></g><g id="9C" onclick="handleSeatClick(evt, '9C')"><rect x="360" y="1255" width="90" height="90" class="seat"/><text x="405.0" y="1300.0" class="seat-label">C</text></g><g id="9D" onclick="handleSeatClick(evt, '9D')"><rect x="650" y="1255" width="90" height="90" class="seat occupied"/><text x="695.0" y="1300.0" class="seat-label">D</text></g><g id="9E" onclick="handleSeatClick(evt, '9E')"><rect x="740" y="1255" width="90" height="90" class="seat occupied"/><text x="785.0" y="1300.0" class="seat-label">E</text></g><g id="9F" onclick="handleSeatClick(evt, '9F')"><rect x="830" y="1255" width="90" height="90" class="seat occupied"/><text x="875.0" y="1300.0" class="seat-label">F</text></g><text x="80" y="1415.0" class="row-label" text-anchor="end">10</text><g id="10A" onclick="handleSeatClick(evt, '10A')"><rect x="180" y="1370" width="90" height="90" class="seat repeated"/><text x="225.0" y="1415.0" class="seat-label">A</text></g><g id="10B" onclick="handleSeatClick(evt, '10B')"><rect x="270" y="1370" width="90" height="90" class="seat occupied"/><text x="315.0" y="1415.0" class="seat-label">B</text></g><g id="10C" onclick="handleSeatClick(evt, '10C')"><rect x="360" y="1370" width="90" height="90" class="seat occupied"/><text x="405.0" y="1415.0" class="seat-label">C</text></g><g id="10D" onclick="handleSeatClick(evt, '10D')"><rect x="650" y="1370" width="90" height="90" class="seat"/><text x="695.0" y="1415.0" class="seat-label">D</text></g><g id="10E" onclick="handleSeatClick(evt, '10E')"><rect x="740" y="1370" width="90" height="90" class="seat repeated"/><text x="785.0" y="1415.0" class="seat-label">E</text></g><g id="10F" onclick="handleSeatClick(evt, '10F')"><rect x="830" y="1370" width="90" height="90" class="seat occupied"/><text x="875.0" y="1415.0" class="seat-label">F</text></g><text x="80" y="1530.0" class="row-label" text-anchor="end">11</text><g id="11A" onclick="handleSeatClick(evt, '11A')"><rect x="180" y="1485" width="90" height="90" class="seat occupied"/><text x="225.0" y="1530.0" class="seat-label">A</text></g><g id="11B" onclick="handleSeatClick(evt, '11B')"><rect x="270" y="1485" width="90" height="90" class="seat"/><text x="315.0" y="1530.0" class="seat-label">B</text></g><g id="11C" onclick="handleSeatClick(evt, '11C')"><rect x="360" y="1485" width="90" height="90" class="seat repeated"/><text x="405.0" y="1530.0" class="seat-label">C</text></g><g id="11D" onclick="handleSeatClick(evt, '11D')"><rect x="650" y="1485" width="90" height="90" class="seat repeated"/><text x="695.0" y="1530.0" class="seat-label">D</text></g><g id="11E" onclick="handleSeatClick(evt, '11E')"><rect x="740" y="1485" width="90" height="90" class="seat occupied"/><text x="785.0" y="1530.0" class="seat-label">E</text></g><g id="11F" onclick="handleSeatClick(evt, '11F')"><rect x="830" y="1485" width="90" height="90" class="seat occupied"/><text x="875.0" y="1530.0" class="seat-label">F</text></g><text x="80" y="1675.0" class="row-label" text-anchor="end">12</text><g id="12A" onclick="handleSeatClick(evt, '12A')"><rect x="180" y="1630" width="90" height="90" class="seat repeated"/><text x="225.0" y="1675.0" class="seat-label">A</text></g><g id="12B" onclick="handleSeatClick(evt, '12B')"><rect x="270" y="1630" width="90" height="90" class="seat occupied"/><text x="315.0" y="1675.0" class="seat-label">B</text></g><g id="12C" onclick="handleSeatClick(evt, '12C')"><rect x="360" y="1630" width="90" height="90" class="seat occupied"/><text x="405.0" y="1675.0" class="seat-label">C</text></g><g id="12D" onclick="handleSeatClick(evt, '12D')"><rect x="650" y="1630" width="90" height="90" class="seat occupied"/><text x="695.0" y="1675.0" class="seat-label">D</text></g><g id="12E" onclick="handleSeatClick(evt, '12E')"><rect x="740" y="1630" width="90" height="90" class="seat repeated"/><text x="785.0" y="1675.0" class="seat-label">E</text></g><g id="12F" onclick="handleSeatClick(evt, '12F')"><rect x="830" y="1630" width="90" height="90" class="seat occupied"/><text x="875.0" y="1675.0" class="seat-label">F</text></g><text x="80" y="1820.0" class="row-label" text-anchor="end">13</text><g id="13A" onclick="handleSeatClick(evt, '13A')"><rect x="180" y="1775" width="90" height="90" class="seat occupied"/><text x="225.0" y="1820.0" class="seat-label">A</text></g><g id="13B" onclick="handleSeatClick(evt, '13B')"><rect x="270" y="1775" width="90" height="90" class="seat repeated"/><text x="315.0" y="1820.0" class="seat-label">B</text></g><g id="13C" onclick="handleSeatClick(evt, '13C')"><rect x="360" y="1775" width="90" height="90" class="seat occupied"/><text x="405.0" y="1820.0" class="seat-label">C</text></g><g id="13D" onclick="handleSeatClick(evt, '13D')"><rect x="650" y="1775" width="90" height="90" class="seat occupied"/><text x="695.0" y="1820.0" class="seat-label">D</text></g><g id="13E" onclick="handleSeatClick(evt, '13E')"><rect x="740" y="1775" width="90" height="90" class="seat repeated"/><text x="785.0" y="1820.0" class="seat-label">E</text></g><g id="13F" onclick="handleSeatClick(evt, '13F')"><rect x="830" y="1775" width="90" height="90" class="seat occupied"/><text x="875.0" y="1820.0" class="seat-label">F</text></g><text x="80" y="1935.0" class="row-label" text-anchor="end">14</text><g id="14A" onclick="handleSeatClick(evt, '14A')"><rect x="180" y="1890" width="90" height="90" class="seat occupied"/><text x="225.0" y="1935.0" class="seat-label">A</text></g><g id="14B" onclick="handleSeatClick(evt, '14B')"><rect x="270" y="1890" width="90" height="90" class="seat occupied"/><text x="315.0" y="1935.0" class="seat-label">B</text></g><g id="14C" onclick="handleSeatClick(evt, '14C')"><rect x="360" y="1890" width="90" height="90" class="seat occupied"/><text x="405.0" y="1935.0" class="seat-label">C</text></g><g id="14D" onclick="handleSeatClick(evt, '14D')"><rect x="650" y="1890" width="90" height="90" class="seat repeated"/><text x="695.0" y="1935.0" class="seat-label">D</text></g><g id="14E" onclick="handleSeatClick(evt, '14E')"><rect x="740" y="1890" width="90" height="90" class="seat occupied"/><text x="785.0" y="1935.0" class="seat-label">E</text></g><g id="14F" onclick="handleSeatClick(evt, '14F')"><rect x="830" y="1890" width="90" height="90" class="seat occupied"/><text x="875.0" y="1935.0" class="seat-label">F</text></g><text x="80" y="2050.0" class="row-label" text-anchor="end">15</text><g id="15A" onclick="handleSeatClick(evt, '15A')"><rect x="180" y="2005" width="90" height="90" class="seat repeated"/><text x="225.0" y="2050.0" class="seat-label">A</text></g><g id="15B" onclick="handleSeatClick(evt, '15B')"><rect x="270" y="2005" width="90" height="90" class="seat occupied"/><text x="315.0" y="2050.0" class="seat-label">B</text></g><g id="15C" onclick="handleSeatClick(evt, '15C')"><rect x="360" y="2005" width="90" height="90" class="seat occupied"/><text x="405.0" y="2050.0" class="seat-label">C</text></g><g id="15D" onclick="handleSeatClick(evt, '15D')"><rect x="650" y="2005" width="90" height="90" class="seat occupied"/><text x="695.0" y="2050.0" class="seat-label">D</text></g><g id="15E" onclick="handleSeatClick(evt, '15E')"><rect x="740" y="2005" width="90" height="90" class="seat occupied"/><text x="785.0" y="2050.0" class="seat-label">E</text></g><g id="15F" onclick="handleSeatClick(evt, '15F')"><rect x="830" y="2005" width="90" height="90" class="seat repeated"/><text x="875.0" y="2050.0" class="seat-label">F</text></g><text x="80" y="2165.0" class="row-label" text-anchor="end">16</text><g id="16A" onclick="handleSeatClick(evt, '16A')"><rect x="180" y="2120" width="90" height="90" class="seat occupied"/><text x="225.0" y="2165.0" class="seat-label">A</text></g><g id="16B" onclick="handleSeatClick(evt, '16B')"><rect x="270" y="2120" width="90" height="90" class="seat occupied"/><text x="315.0" y="2165.0" class="seat-label">B</text></g><g id="16C" onclick="handleSeatClick(evt, '16C')"><rect x="360" y="2120" width="90" height="90" class="seat occupied"/><text x="405.0" y="2165.0" class="seat-label">C</text></g><g id="16D" onclick="handleSeatClick(evt, '16D')"><rect x="650" y="2120" width="90" height="90" class="seat occupied"/><text x="695.0" y="2165.0" class="seat-label">D</text></g><g id="16E" onclick="handleSeatClick(evt, '16E')"><rect x="740" y="2120" width="90" height="90" class="seat occupied"/><text x="785.0" y="2165.0" class="seat-label">E</text></g><g id="16F" onclick="handleSeatClick(evt, '16F')"><rect x="830" y="2120" width="90" height="90" class="seat occupied"/><text x="875.0" y="2165.0" class="seat-label">F</text></g><text x="80" y="2280.0" class="row-label" text-anchor="end">17</text><g id="17A" onclick="handleSeatClick(evt, '17A')"><rect x="180" y="2235" width="90" height="90" class="seat occupied"/><text x="225.0" y="2280.0" class="seat-label">A</text></g><g id="17B" onclick="handleSeatClick(evt, '17B')"><rect x="270" y="2235" width="90" height="90" class="seat repeated"/><text x="315.0" y="2280.0" class="seat-label">B</text></g><g id="17C" onclick="handleSeatClick(evt, '17C')"><rect x="360" y="2235" width="90" height="90" class="seat occupied"/><text x="405.0" y="2280.0" class="seat-label">C</text></g><g id="17D" onclick="handleSeatClick(evt, '17D')"><rect x="650" y="2235" width="90" height="90" class="seat occupied"/><text x="695.0" y="2280.0" class="seat-label">D</text></g><g id="17E" onclick="handleSeatClick(evt, '17E')"><rect x="740" y="2235" width="90" height="90" class="seat repeated"/><text x="785.0" y="2280.0" class="seat-label">E</text></g><g id="17F" onclick="handleSeatClick(evt, '17F')"><rect x="830" y="2235" width="90" height="90" class="seat occupied"/><text x="875.0" y="2280.0" class="seat-label">F</text></g><text x="80" y="2395.0" class="row-label" text-anchor="end">18</text><g id="18A" onclick="handleSeatClick(evt, '18A')"><rect x="180" y="2350" width="90" height="90" class="seat repeated"/><text x="225.0" y="2395.0" class="seat-label">A</text></g><g id="18B" onclick="handleSeatClick(evt, '18B')"><rect x="270" y="2350" width="90" height="90" class="seat occupied"/><text x="315.0" y="2395.0" class="seat-label">B</text></g><g id="18C" onclick="handleSeatClick(evt, '18C')"><rect x="360" y="2350" width="90" height="90" class="seat occupied"/><text x="405.0" y="2395.0" class="seat-label">C</text></g><g id="18D" onclick="handleSeatClick(evt, '18D')"><rect x="650" y="2350" width="90" height="90" class="seat occupied"/><text x="695.0" y="2395.0" class="seat-label">D</text></g><g id="18E" onclick="handleSeatClick(evt, '18E')"><rect x="740" y="2350" width="90" height="90" class="seat occupied"/><text x="785.0" y="2395.0" class="seat-label">E</text></g><g id="18F" onclick="handleSeatClick(evt, '18F')"><rect x="830" y="2350" width="90" height="90" class="seat occupied"/><text x="875.0" y="2395.0" class="seat-label">F</text></g><text x="80" y="2510.0" class="row-label" text-anchor="end">19</text><g id="19A" onclick="handleSeatClick(evt, '19A')"><rect x="180" y="2465" width="90" height="90" class="seat occupied"/><text x="225.0" y="2510.0" class="seat-label">A</text></g><g id="19B" onclick="handleSeatClick(evt, '19B')"><rect x="270" y="2465" width="90" height="90" class="seat occupied"/><text x="315.0" y="2510.0" class="seat-label">B</text></g><g id="19C" onclick="handleSeatClick(evt, '19C')"><rect x="360" y="2465" width="90" height="90" class="seat occupied"/><text x="405.0" y="2510.0" class="seat-label">C</text></g><g id="19D" onclick="handleSeatClick(evt, '19D')"><rect x="650" y="2465" width="90" height="90" class="seat occupied"/><text x="695.0" y="2510.0" class="seat-label">D</text></g><g id="19E" onclick="handleSeatClick(evt, '19E')"><rect x="740" y="2465" width="90" height="90" class="seat occupied"/><text x="785.0" y="2510.0" class="seat-label">E</text></g><g id="19F" onclick="handleSeatClick(evt, '19F')"><rect x="830" y="2465" width="90" height="90" class="seat occupied"/><text x="875.0" y="2510.0" class="seat-label">F</text></g><text x="80" y="2625.0" class="row-label" text-anchor="end">20</text><g id="20A" onclick="handleSeatClick(evt, '20A')"><rect x="180" y="2580" width="90" height="90" class="seat occupied"/><text x="225.0" y="2625.0" class="seat-label">A</text></g><g id="20B" onclick="handleSeatClick(evt, '20B')"><rect x="270" y="2580" width="90" height="90" class="seat"/><text x="315.0" y="2625.0" class="seat-label">B</text></g><g id="20C" onclick="handleSeatClick(evt, '20C')"><rect x="360" y="2580" width="90" height="90" class="seat occupied"/><text x="405.0" y="2625.0" class="seat-label">C</text></g><g id="20D" onclick="handleSeatClick(evt, '20D')"><rect x="650" y="2580" width="90" height="90" class="seat occupied"/><text x="695.0" y="2625.0" class="seat-label">D</text></g><g id="20E" onclick="handleSeatClick(evt, '20E')"><rect x="740" y="2580" width="90" height="90" class="seat occupied"/><text x="785.0" y="2625.0" class="seat-label">E</text></g><g id="20F" onclick="handleSeatClick(evt, '20F')"><rect x="830" y="2580" width="90" height="90" class="seat"/><text x="875.0" y="2625.0" class="seat-label">F</text></g><text x="80" y="2740.0" class="row-label" text-anchor="end">21</text><g id="21A" onclick="handleSeatClick(evt, '21A')"><rect x="180" y="2695" width="90" height="90" class="seat occupied"/><text x="225.0" y="2740.0" class="seat-label">A</text></g><g id="21B" onclick="handleSeatClick(evt, '21B')"><rect x="270" y="2695" width="90" height="90" class="seat occupied"/><text x="315.0" y="2740.0" class="seat-label">B</text></g><g id="21C" onclick="handleSeatClick(evt, '21C')"><rect x="360" y="2695" width="90" height="90" class="seat occupied"/><text x="405.0" y="2740.0" class="seat-label">C</text></g><g id="21D" onclick="handleSeatClick(evt, '21D')"><rect x="650" y="2695" width="90" height="90" class="seat repeated"/><text x="695.0" y="2740.0" class="seat-label">D</text></g><g id="21E" onclick="handleSeatClick(evt, '21E')"><rect x="740" y="2695" width="90" height="90" class="seat occupied"/><text x="785.0" y="2740.0" class="seat-label">E</text></g><g id="21F" onclick="handleSeatClick(evt, '21F')"><rect x="830" y="2695" width="90" height="90" class="seat occupied"/><text x="875.0" y="2740.0" class="seat-label">F</text></g><text x="80" y="2855.0" class="row-label" text-anchor="end">22</text><g id="22A" onclick="handleSeatClick(evt, '22A')"><rect x="180" y="2810" width="90" height="90" class="seat occupied"/><text x="225.0" y="2855.0" class="seat-label">A</text></g><g id="22B" onclick="handleSeatClick(evt, '22B')"><rect x="270" y="2810" width="90" height="90" class="seat occupied"/><text x="315.0" y="2855.0" class="seat-label">B</text></g><g id="22C" onclick="handleSeatClick(evt, '22C')"><rect x="360" y="2810" width="90" height="90" class="seat occupied"/><text x="405.0" y="2855.0" class="seat-label">C</text></g><g id="22D" onclick="handleSeatClick(evt, '22D')"><rect x="650" y="2810" width="90" height="90" class="seat occupied"/><text x="695.0" y="2855.0" class="seat-label">D</text></g><g id="22E" onclick="handleSeatClick(evt, '22E')"><rect x="740" y="2810" width="90" height="90" class="seat occupied"/><text x="785.0" y="2855.0" class="seat-label">E</text></g><g id="22F" onclick="handleSeatClick(evt, '22F')"><rect x="830" y="2810" width="90" height="90" class="seat occupied"/><text x="875.0" y="2855.0" class="seat-label">F</text></g><text x="80" y="2970.0" class="row-label" text-anchor="end">23</text><g id="23A" onclick="handleSeatClick(evt, '23A')"><rect x="180" y="2925" width="90" height="90" class="seat occupied"/><text x="225.0" y="2970.0" class="seat-label">A</text></g><g id="23B" onclick="handleSeatClick(evt, '23B')"><rect x="270" y="2925" width="90" height="90" class="seat repeated"/><text x="315.0" y="2970.0" class="seat-label">B</text></g><g id="23C" onclick="handleSeatClick(evt, '23C')"><rect x="360" y="2925" width="90" height="90" class="seat repeated"/><text x="405.0" y="2970.0" class="seat-label">C</text></g><g id="23D" onclick="handleSeatClick(evt, '23D')"><rect x="650" y="2925" width="90" height="90" class="seat occupied"/><text x="695.0" y="2970.0" class="seat-label">D</text></g><g id="23E" onclick="handleSeatClick(evt, '23E')"><rect x="740" y="2925" width="90" height="90" class="seat occupied"/><text x="785.0" y="2970.0" class="seat-label">E</text></g><g id="23F" onclick="handleSeatClick(evt, '23F')"><rect x="830" y="2925" width="90" height="90" class="seat occupied"/><text x="875.0" y="2970.0" class="seat-label">F</text></g><text x="80" y="3085.0" class="row-label" text-anchor="end">24</text><g id="24A" onclick="handleSeatClick(evt, '24A')"><rect x="180" y="3040" width="90" height="90" class="seat occupied"/><text x="225.0" y="3085.0" class="seat-label">A</text></g><g id="24B" onclick="handleSeatClick(evt, '24B')"><rect x="270" y="3040" width="90" height="90" class="seat occupied"/><text x="315.0" y="3085.0" class="seat-label">B</text></g><g id="24C" onclick="handleSeatClick(evt, '24C')"><rect x="360" y="3040" width="90" height="90" class="seat occupied"/><text x="405.0" y="3085.0" class="seat-label">C</text></g><g id="24D" onclick="handleSeatClick(evt, '24D')"><rect x="650" y="3040" width="90" height="90" class="seat repeated"/><text x="695.0" y="3085.0" class="seat-label">D</text></g><g id="24E" onclick="handleSeatClick(evt, '24E')"><rect x="740" y="3040" width="90" height="90" class="seat occupied"/><text x="785.0" y="3085.0" class="seat-label">E</text></g><g id="24F" onclick="handleSeatClick(evt, '24F')"><rect x="830" y="3040" width="90" height="90" class="seat repeated"/><text x="875.0" y="3085.0" class="seat-label">F</text></g><text x="80" y="3200.0" class="row-label" text-anchor="end">25</text><g id="25A" onclick="handleSeatClick(evt, '25A')"><rect x="180" y="3155" width="90" height="90" class="seat"/><text x="225.0" y="3200.0" class="seat-label">A</text></g><g id="25B" onclick="handleSeatClick(evt, '25B')"><rect x="270" y="3155" width="90" height="90" class="seat occupied"/><text x="315.0" y="3200.0" class="seat-label">B</text></g><g id="25C" onclick="handleSeatClick(evt, '25C')"><rect x="360" y="3155" width="90" height="90" class="seat repeated"/><text x="405.0" y="3200.0" class="seat-label">C</text></g><g id="25D" onclick="handleSeatClick(evt, '25D')"><rect x="650" y="3155" width="90" height="90" class="seat repeated"/><text x="695.0" y="3200.0" class="seat-label">D</text></g><g id="25E" onclick="handleSeatClick(evt, '25E')"><rect x="740" y="3155" width="90" height="90" class="seat occupied"/><text x="785.0" y="3200.0" class="seat-label">E</text></g><g id="25F" onclick="handleSeatClick(evt, '25F')"><rect x="830" y="3155" width="90" height="90" class="seat occupied"/><text x="875.0" y="3200.0" class="seat-label">F</text></g><text x="80" y="3315.0" class="row-label" text-anchor="end">26</text><g id="26A" onclick="handleSeatClick(evt, '26A')"><rect x="180" y="3270" width="90" height="90" class="seat occupied"/><text x="225.0" y="3315.0" class="seat-label">A</text></g><g id="26B" onclick="handleSeatClick(evt, '26B')"><rect x="270" y="3270" width="90" height="90" class="seat occupied"/><text x="315.0" y="3315.0" class="seat-label">B</text></g><g id="26C" onclick="handleSeatClick(evt, '26C')"><rect x="360" y="3270" width="90" height="90" class="seat occupied"/><text x="405.0" y="3315.0" class="seat-label">C</text></g><g id="26D" onclick="handleSeatClick(evt, '26D')"><rect x="650" y="3270" width="90" height="90" class="seat repeated"/><text x="695.0" y="3315.0" class="seat-label">D</text></g><g id="26E" onclick="handleSeatClick(evt, '26E')"><rect x="740" y="3270" width="90" height="90" class="seat occupied"/><text x="785.0" y="3315.0" class="seat-label">E</text></g><g id="26F" onclick="handleSeatClick(evt, '26F')"><rect x="830" y="3270" width="90" height="90" class="seat"/><text x="875.0" y="3315.0" class="seat-label">F</text></g><text x="80" y="3430.0" class="row-label" text-anchor="end">27</text><g id="27A" onclick="handleSeatClick(evt, '27A')"><rect x="180" y="3385" width="90" height="90" class="seat occupied"/><text x="225.0" y="3430.0" class="seat-label">A</text></g><g id="27B" onclick="handleSeatClick(evt, '27B')"><rect x="270" y="3385" width="90" height="90" class="seat occupied"/><text x="315.0" y="3430.0" class="seat-label">B</text></g><g id="27C" onclick="handleSeatClick(evt, '27C')"><rect x="360" y="3385" width="90" height="90" class="seat occupied"/><text x="405.0" y="3430.0" class="seat-label">C</text></g><g id="27D" onclick="handleSeatClick(evt, '27D')"><rect x="650" y="3385" width="90" height="90" class="seat occupied"/><text x="695.0" y="3430.0" class="seat-label">D</text></g><g id="27E" onclick="handleSeatClick(evt, '27E')"><rect x="740" y="3385" width="90" height="90" class="seat occupied"/><text x="785.0" y="3430.0" class="seat-label">E</text></g><g id="27F" onclick="handleSeatClick(evt, '27F')"><rect x="830" y="3385" width="90" height="90" class="seat"/><text x="875.0" y="3430.0" class="seat-label">F</text></g><text x="80" y="3545.0" class="row-label" text-anchor="end">28</text><g id="28A" onclick="handleSeatClick(evt, '28A')"><rect x="180" y="3500" width="90" height="90" class="seat repeated"/><text x="225.0" y="3545.0" class="seat-label">A</text></g><g id="28B" onclick="handleSeatClick(evt, '28B')"><rect x="270" y="3500" width="90" height="90" class="seat occupied"/><text x="315.0" y="3545.0" class="seat-label">B</text></g><g id="28C" onclick="handleSeatClick(evt, '28C')"><rect x="360" y="3500" width="90" height="90" class="seat occupied"/><text x="405.0" y="3545.0" class="seat-label">C</text></g><g id="28D" onclick="handleSeatClick(evt, '28D')"><rect x="650" y="3500" width="90" height="90" class="seat occupied"/><text x="695.0" y="3545.0" class="seat-label">D</text></g><g id="28E" onclick="handleSeatClick(evt, '28E')"><rect x="740" y="3500" width="90" height="90" class="seat occupied"/><text x="785.0" y="3545.0" class="seat-label">E</text></g><g id="28F" onclick="handleSeatClick(evt, '28F')"><rect x="830" y="3500" width="90" height="90" class="seat repeated"/><text x="875.0" y="3545.0" class="seat-label">F</text></g><text x="80" y="3660.0" class="row-label" text-anchor="end">29</text><g id="29A" onclick="handleSeatClick(evt, '29A')"><rect x="180" y="3615" width="90" height="90" class="seat occupied"/><text x="225.0" y="3660.0" class="seat-label">A</text></g><g id="29B" onclick="handleSeatClick(evt, '29B')"><rect x="270" y="3615" width="90" height="90" class="seat occupied"/><text x="315.0" y="3660.0" class="seat-label">B</text></g><g id="29C" onclick="handleSeatClick(evt, '29C')"><rect x="360" y="3615" width="90" height="90" class="seat occupied"/><text x="405.0" y="3660.0" class="seat-label">C</text></g><g id="29D" onclick="handleSeatClick(evt, '29D')"><rect x="650" y="3615" width="90" height="90" class="seat occupied"/><text x="695.0" y="3660.0" class="seat-label">D</text></g><g id="29E" onclick="handleSeatClick(evt, '29E')"><rect x="740" y="3615" width="90" height="90" class="seat repeated"/><text x="785.0" y="3660.0" class="seat-label">E</text></g><g id="29F" onclick="handleSeatClick(evt, '29F')"><rect x="830" y="3615" width="90" height="90" class="seat occupied"/><text x="875.0" y="3660.0" class="seat-label">F</text></g><text x="80" y="3775.0" class="row-label" text-anchor="end">30</text><g id="30A" onclick="handleSeatClick(evt, '30A')"><rect x="180" y="3730" width="90" height="90" class="seat occupied"/><text x="225.0" y="3775.0" class="seat-label">A</text></g><g id="30B" onclick="handleSeatClick(evt, '30B')"><rect x="270" y="3730" width="90" height="90" class="seat occupied"/><text x="315.0" y="3775.0" class="seat-label">B</text></g><g id="30C" onclick="handleSeatClick(evt, '30C')"><rect x="360" y="3730" width="90" height="90" class="seat occupied"/><text x="405.0" y="3775.0" class="seat-label">C</text></g><g id="30D" onclick="handleSeatClick(evt, '30D')"><rect x="650" y="3730" width="90" height="90" class="seat occupied"/><text x="695.0" y="3775.0" class="seat-label">D</text></g><g id="30E" onclick="handleSeatClick(evt, '30E')"><rect x="740" y="3730" width="90" height="90" class="seat occupied"/><text x="785.0" y="3775.0" class="seat-label">E</text></g><g id="30F" onclick="handleSeatClick(evt, '30F')"><rect x="830" y="3730" width="90" height="90" class="seat repeated"/><text x="875.0" y="3775.0" class="seat-label">F</text></g><text x="80" y="3890.0" class="row-label" text-anchor="end">31</text><g id="31A" onclick="handleSeatClick(evt, '31A')"><rect x="180" y="3845" width="90" height="90" class="seat occupied"/><text x="225.0" y="3890.0" class="seat-label">A</text></g><g id="31B" onclick="handleSeatClick(evt, '31B')"><rect x="270" y="3845" width="90" height="90" class="seat"/><text x="315.0" y="3890.0" class="seat-label">B</text></g><g id="31C" onclick="handleSeatClick(evt, '31C')"><rect x="360" y="3845" width="90" height="90" class="seat occupied"/><text x="405.0" y="3890.0" class="seat-label">C</text></g><g id="31D" onclick="handleSeatClick(evt, '31D')"><rect x="650" y="3845" width="90" height="90" class="seat occupied"/><text x="695.0" y="3890.0" class="seat-label">D</text></g><g id="31E" onclick="handleSeatClick(evt, '31E')"><rect x="740" y="3845" width="90" height="90" class="seat repeated"/><text x="785.0" y="3890.0" class="seat-label">E</text></g><g id="31F" onclick="handleSeatClick(evt, '31F')"><rect x="830" y="3845" width="90" height="90" class="seat occupied"/><text x="875.0" y="3890.0" class="seat-label">F</text></g>
<g id="seatTooltip" style="display:none;">
  <rect id="tooltipRect" x="0" y="0" width="360" height="120" class="tooltip-box"/>
  <text id="tooltipLine1" x="10" y="30" class="tooltip-text">Seat</text>
  <text id="tooltipLine2" x="10" y="50" class="tooltip-text"></text>
  <text id="tooltipLine3" x="10" y="70" class="tooltip-text"></text>
  <text id="tooltipLine4" x="10" y="90" class="tooltip-text"></text>
  <text id="tooltipLine5" x="10" y="110" class="tooltip-text"></text>
</g>

<script type="text/ecmascript"><![CDATA[
function hashString(s) {
    let h = 0;
    for (let i = 0; i < s.length; i++) {
        h = (h * 31 + s.charCodeAt(i)) >>> 0;
    }
    return h;
}

function handleSeatClick(evt, id) {
    let g = document.getElementById(id);
    if (!g) return;
    let rect = g.querySelector("rect");
    if (!rect) return;
    showTooltip(evt, id, rect);
}

function buildRepeatedCustomerFields(id) {
    let h = hashString(id);
    let firstNames = ["Alex","Jordan","Taylor","Sam","Chris","Morgan","Jamie","Robin","Casey","Drew","Avery","Riley"];
    let lastNames  = ["Smith","Johnson","Brown","Wilson","Taylor","Anderson","Clark","Lewis","Walker","Hall","Young","Allen"];
    let items      = ["Water","Coffee","Sandwiches"];

    let first = firstNames[h % firstNames.length];
    let last  = lastNames[(h >> 4) % lastNames.length];
    let trips = (h % 20) + 3; // 3–22 trips
    let spend = ((h >> 5) % 450) + 50; // 50–499
    let spendStr = "$" + spend.toFixed(2);
    let item  = items[(h >> 3) % items.length];

    return {
        name: first + " " + last,
        trips: trips,
        spend: spendStr,
        item: item
    };
}

function showTooltip(evt, id, rect) {
    var svg = evt.target.ownerSVGElement;
    if (!svg) return;
    var pt = svg.createSVGPoint();
    pt.x = evt.clientX;
    pt.y = evt.clientY;
    var cursorpt = pt.matrixTransform(svg.getScreenCTM().inverse());
    var tooltip = svg.getElementById("seatTooltip");
    var box = svg.getElementById("tooltipRect");
    var l1 = svg.getElementById("tooltipLine1");
    var l2 = svg.getElementById("tooltipLine2");
    var l3 = svg.getElementById("tooltipLine3");
    var l4 = svg.getElementById("tooltipLine4");
    var l5 = svg.getElementById("tooltipLine5");
    if (!tooltip || !box || !l1 || !l2 || !l3 || !l4 || !l5) return;

    if (rect.classList.contains("repeated")) {
        let info = buildRepeatedCustomerFields(id);
        l1.textContent = "Seat: " + id;
        l2.textContent = "Passenger: " + info.name;
        l3.textContent = "Trips (last 12 months): " + info.trips;
        l4.textContent = "Total spend: " + info.spend;
        l5.textContent = "Top item: " + info.item;
    } else {
        let status = "Empty";
        if (rect.classList.contains("occupied")) status = "Occupied";
        l1.textContent = "Seat: " + id;
        l2.textContent = "Status: " + status;
        l3.textContent = "";
        l4.textContent = "";
        l5.textContent = "";
    }

    var boxWidth = 360;
    var boxHeight = 120;
    var tx = cursorpt.x + 15;
    var ty = cursorpt.y - (boxHeight + 10);
    if (ty < 0) ty = cursorpt.y + 20;

    box.setAttribute("x", tx);
    box.setAttribute("y", ty);
    l1.setAttribute("x", tx + 10); l1.setAttribute("y", ty + 25);
    l2.setAttribute("x", tx + 10); l2.setAttribute("y", ty + 45);
    l3.setAttribute("x", tx + 10); l3.setAttribute("y", ty + 65);
    l4.setAttribute("x", tx + 10); l4.setAttribute("y", ty + 85);
    l5.setAttribute("x", tx + 10); l5.setAttribute("y", ty + 105);

    tooltip.style.display = "block";
}

document.addEventListener("click", function(e) {
    var svg = document.documentElement;
    var tooltip = svg.getElementById("seatTooltip");
    if (!tooltip) return;
    var g = e.target.closest("g");
    if (!g || !g.getAttribute("onclick")) {
        tooltip.style.display = "none";
    }
}, false);
]]></script>
</svg>